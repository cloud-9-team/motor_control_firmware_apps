<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>MotorControl: ESP8266</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MotorControl
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Página&#160;principal</span></a></li>
      <li class="current"><a href="modules.html"><span>Módulos</span></a></li>
      <li><a href="annotated.html"><span>Estructuras&#160;de&#160;Datos</span></a></li>
      <li><a href="files.html"><span>Archivos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_s_p8266.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Módulos</a> &#124;
<a href="#nested-classes">Estructuras de datos</a> &#124;
<a href="#define-members">'defines'</a> &#124;
<a href="#typedef-members">'typedefs'</a> &#124;
<a href="#enum-members">Enumeraciones</a> &#124;
<a href="#func-members">Funciones</a>  </div>
  <div class="headertitle">
<div class="title">ESP8266<div class="ingroups"><a class="el" href="group___motor_control.html">Motor Control</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Maneja la interfaz con el módulo WiFi.  
<a href="#details">Más...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Módulos</h2></td></tr>
<tr class="memitem:group___comandos_a_t"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___comandos_a_t.html">Comandos AT</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Estructuras de datos</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_connection_info.html">ConnectionInfo</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parámetro del callback ConnectionChanged.  <a href="struct_connection_info.html#details">Más...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
'defines'</h2></td></tr>
<tr class="memitem:ga1ddc8609aa8c60e836aa1fd57fc7dadb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1ddc8609aa8c60e836aa1fd57fc7dadb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga1ddc8609aa8c60e836aa1fd57fc7dadb">MAX_MULTIPLE_CONNECTIONS</a>&#160;&#160;&#160;(5)</td></tr>
<tr class="memdesc:ga1ddc8609aa8c60e836aa1fd57fc7dadb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Máxima cantidad de conexiones simultáneas aceptadas por el módulo. <br /></td></tr>
<tr class="separator:ga1ddc8609aa8c60e836aa1fd57fc7dadb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
'typedefs'</h2></td></tr>
<tr class="memitem:gaf028590ebe31fe62c79aedb244134675"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gaf028590ebe31fe62c79aedb244134675">callbackCommandSentFunction_type</a>) (<a class="el" href="group___comandos_a_t.html#ga1426bdb3c983efeec71b31a65d6a6407">AT_Command</a> cmd)</td></tr>
<tr class="memdesc:gaf028590ebe31fe62c79aedb244134675"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo de función llamada por el módulo para notificar comando enviado.  <a href="#gaf028590ebe31fe62c79aedb244134675">Más...</a><br /></td></tr>
<tr class="separator:gaf028590ebe31fe62c79aedb244134675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f9691a4b2e8b5c0674f77255b335c40"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3f9691a4b2e8b5c0674f77255b335c40"></a>
typedef PARSER_RESULTS_IPD_T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga3f9691a4b2e8b5c0674f77255b335c40">ReceivedDataInfo</a></td></tr>
<tr class="memdesc:ga3f9691a4b2e8b5c0674f77255b335c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estructura que concentra la información de los datos recibidos a través de una conexión abierta. <br /></td></tr>
<tr class="separator:ga3f9691a4b2e8b5c0674f77255b335c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4255e325d92b94559a7a80479d9a480"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gac4255e325d92b94559a7a80479d9a480">callbackDataReceivedFunction_type</a>) (<a class="el" href="group___e_s_p8266.html#ga3f9691a4b2e8b5c0674f77255b335c40">ReceivedDataInfo</a> info)</td></tr>
<tr class="memdesc:gac4255e325d92b94559a7a80479d9a480"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo de función llamada por el módulo para notificar la recepción de datos.  <a href="#gac4255e325d92b94559a7a80479d9a480">Más...</a><br /></td></tr>
<tr class="separator:gac4255e325d92b94559a7a80479d9a480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac50f5d1ba13d3962caaeb326823483f5"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gac50f5d1ba13d3962caaeb326823483f5">callbackConnectionChangedFunction_type</a>) (<a class="el" href="struct_connection_info.html">ConnectionInfo</a> info)</td></tr>
<tr class="memdesc:gac50f5d1ba13d3962caaeb326823483f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo de función llamada por el módulo para notificar un cambio en alguna conexión.  <a href="#gac50f5d1ba13d3962caaeb326823483f5">Más...</a><br /></td></tr>
<tr class="separator:gac50f5d1ba13d3962caaeb326823483f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33675f38f6b4d7d24a0fc78117ea2be1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga33675f38f6b4d7d24a0fc78117ea2be1">callbackResetDetectedFunction_type</a>) (void)</td></tr>
<tr class="memdesc:ga33675f38f6b4d7d24a0fc78117ea2be1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tipo de función llamada por el módulo para notificar un reinicio del módulo WiFi.  <a href="#ga33675f38f6b4d7d24a0fc78117ea2be1">Más...</a><br /></td></tr>
<tr class="separator:ga33675f38f6b4d7d24a0fc78117ea2be1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumeraciones</h2></td></tr>
<tr class="memitem:ga94c42ef79c93cb9672927fc1e1be6525"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga94c42ef79c93cb9672927fc1e1be6525"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>ConnectionStatus</b> { <b>CONNECTION_STATUS_CLOSE</b> = 0, 
<b>CONNECTION_STATUS_OPEN</b> = 1
 }</td></tr>
<tr class="separator:ga94c42ef79c93cb9672927fc1e1be6525"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:ga67d69234475a4dfb5fe1852c4cd69e3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga67d69234475a4dfb5fe1852c4cd69e3d">esp8266_init</a> (void)</td></tr>
<tr class="memdesc:ga67d69234475a4dfb5fe1852c4cd69e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicializa el módulo ESP8266.  <a href="#ga67d69234475a4dfb5fe1852c4cd69e3d">Más...</a><br /></td></tr>
<tr class="separator:ga67d69234475a4dfb5fe1852c4cd69e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga72cb503cd465777dd48be5cdc6f2c6e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga72cb503cd465777dd48be5cdc6f2c6e9">esp8266_doWork</a> (void)</td></tr>
<tr class="memdesc:ga72cb503cd465777dd48be5cdc6f2c6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realiza tareas pendientes del módulo.  <a href="#ga72cb503cd465777dd48be5cdc6f2c6e9">Más...</a><br /></td></tr>
<tr class="separator:ga72cb503cd465777dd48be5cdc6f2c6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad13433870dad8198790218592a98eca4"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gad13433870dad8198790218592a98eca4">esp8266_queueCommand</a> (<a class="el" href="group___comandos_a_t.html#ga1426bdb3c983efeec71b31a65d6a6407">AT_Command</a> command, <a class="el" href="group___comandos_a_t.html#gac38e99e6d99be0885cbfe4f41338d2e0">AT_Type</a> type, void *parameters)</td></tr>
<tr class="memdesc:gad13433870dad8198790218592a98eca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encola un comando para ser enviado al módulo WiFi.  <a href="#gad13433870dad8198790218592a98eca4">Más...</a><br /></td></tr>
<tr class="separator:gad13433870dad8198790218592a98eca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga906a93319a5cc31da1c2cb9d40211efb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga906a93319a5cc31da1c2cb9d40211efb">esp8266_setReceiveBuffer</a> (uint8_t *buf, uint16_t size)</td></tr>
<tr class="memdesc:ga906a93319a5cc31da1c2cb9d40211efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Especifica el buffer a utilizar para la recepción de datos de usuario.  <a href="#ga906a93319a5cc31da1c2cb9d40211efb">Más...</a><br /></td></tr>
<tr class="separator:ga906a93319a5cc31da1c2cb9d40211efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf740b653f56f9d5255e2858490da6f47"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gaf740b653f56f9d5255e2858490da6f47">esp8266_writeRawData</a> (void *buf, size_t size)</td></tr>
<tr class="memdesc:gaf740b653f56f9d5255e2858490da6f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Envía datos directamente al módulo WiFi serialmente.  <a href="#gaf740b653f56f9d5255e2858490da6f47">Más...</a><br /></td></tr>
<tr class="separator:gaf740b653f56f9d5255e2858490da6f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7afae2da7a4e44835124d437c14b318"><td class="memItemLeft" align="right" valign="top">ConnectionStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gaa7afae2da7a4e44835124d437c14b318">esp8266_getConnectionStatus</a> (uint8_t connectionID)</td></tr>
<tr class="memdesc:gaa7afae2da7a4e44835124d437c14b318"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permite obtener el estado de las conexiones disponibles.  <a href="#gaa7afae2da7a4e44835124d437c14b318">Más...</a><br /></td></tr>
<tr class="separator:gaa7afae2da7a4e44835124d437c14b318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4836d3de9e2e0357c4650351965ae1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gaf4836d3de9e2e0357c4650351965ae1c">esp8266_registerCommandSentCallback</a> (<a class="el" href="group___e_s_p8266.html#gaf028590ebe31fe62c79aedb244134675">callbackCommandSentFunction_type</a> fcn)</td></tr>
<tr class="memdesc:gaf4836d3de9e2e0357c4650351965ae1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registra una función para la notificación CommandSent.  <a href="#gaf4836d3de9e2e0357c4650351965ae1c">Más...</a><br /></td></tr>
<tr class="separator:gaf4836d3de9e2e0357c4650351965ae1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0ec82132faf3c7b42cb36a431f98515"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#gaa0ec82132faf3c7b42cb36a431f98515">esp8266_registerDataReceivedCallback</a> (<a class="el" href="group___e_s_p8266.html#gac4255e325d92b94559a7a80479d9a480">callbackDataReceivedFunction_type</a> fcn)</td></tr>
<tr class="memdesc:gaa0ec82132faf3c7b42cb36a431f98515"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registra una función para la notificación DataReceived.  <a href="#gaa0ec82132faf3c7b42cb36a431f98515">Más...</a><br /></td></tr>
<tr class="separator:gaa0ec82132faf3c7b42cb36a431f98515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e697bc1e5b9db98c75b58f2ba9a3fea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga8e697bc1e5b9db98c75b58f2ba9a3fea">esp8266_registerConnectionChangedCallback</a> (<a class="el" href="group___e_s_p8266.html#gac50f5d1ba13d3962caaeb326823483f5">callbackConnectionChangedFunction_type</a> fcn)</td></tr>
<tr class="memdesc:ga8e697bc1e5b9db98c75b58f2ba9a3fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registra una función para la notificación ConnectionChanged.  <a href="#ga8e697bc1e5b9db98c75b58f2ba9a3fea">Más...</a><br /></td></tr>
<tr class="separator:ga8e697bc1e5b9db98c75b58f2ba9a3fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c788be79031e66fdec1f1d56d7bf18d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_s_p8266.html#ga3c788be79031e66fdec1f1d56d7bf18d">esp8266_registerResetDetectedCallback</a> (<a class="el" href="group___e_s_p8266.html#ga33675f38f6b4d7d24a0fc78117ea2be1">callbackResetDetectedFunction_type</a> fcn)</td></tr>
<tr class="memdesc:ga3c788be79031e66fdec1f1d56d7bf18d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registra una función para la notificación ResetDetected.  <a href="#ga3c788be79031e66fdec1f1d56d7bf18d">Más...</a><br /></td></tr>
<tr class="separator:ga3c788be79031e66fdec1f1d56d7bf18d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<p>Maneja la interfaz con el módulo WiFi. </p>
<p>Este módulo tiene el objetivo de abstraer al programador de los detalles correspondientes a la comunicación con el módulo WiFi, tales como tiempos a respetar y detalles de la sintaxis de los comandos.</p>
<p>Por una parte, procesa los mensajes recibidos del módulo WiFi y notifica al usuario, mediante callbacks, distintos eventos ocurridos.</p>
<p>Por otra parte, provee mecanismos para enviar los comandos AT de manera confiable, con capacidad para reintentar el envío, y también notificación del estado final de los estos.</p>
<p>Este módulo utiliza internamente una tarea llamada WiFiDataReceivedTask, la cual debe tener prioridad alta y una alarma asociada ya que es periódica con período de 20 milisegundos.</p>
<p>El OIL para esta tarea debe ser:</p>
<pre class="fragment"> TASK WiFiDataReceiveTask {
   PRIORITY = 20;
   ACTIVATION = 1;
   STACK = 1024;
   TYPE = BASIC;
   SCHEDULE = FULL;
 }

 ALARM ActivateWiFiDataReceiveTask {
   COUNTER = SoftwareCounter;
   ACTION = ACTIVATETASK {
       TASK = WiFiDataReceiveTask;
   }
 }
</pre><p>Para más información acerca de los comandos empleados, consultar la documentación oficial provista por el fabricante. </p><dl class="section see"><dt>Ver también</dt><dd><a href="http://bbs.espressif.com/viewtopic.php?f=51&t=1022">http://bbs.espressif.com/viewtopic.php?f=51&amp;t=1022</a> </dd></dl>
<h2 class="groupheader">Documentación de los 'typedefs'</h2>
<a class="anchor" id="gaf028590ebe31fe62c79aedb244134675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* callbackCommandSentFunction_type) (<a class="el" href="group___comandos_a_t.html#ga1426bdb3c983efeec71b31a65d6a6407">AT_Command</a> cmd)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tipo de función llamada por el módulo para notificar comando enviado. </p>
<p>Este módulo llamará a la función con esta firma, que haya sido asociada con el callback, para notificar que un comando encolado ha sido enviado exitosamente.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cmd</td><td>tipo de comando que ha sido enviado. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac50f5d1ba13d3962caaeb326823483f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* callbackConnectionChangedFunction_type) (<a class="el" href="struct_connection_info.html">ConnectionInfo</a> info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tipo de función llamada por el módulo para notificar un cambio en alguna conexión. </p>
<p>Este módulo llamará a la función con esta firma, que haya sido asociada con el callback, para notificar el cambio en alguna de las conexiones, como podría ser que una conexión que estaba cerrada ahora esté abierta.</p>
<p>Sólo tiene sentido si se utiliza el protocolo TCP.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>información para conocer qué conexión cambió y cuál es su nuevo estado. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gac4255e325d92b94559a7a80479d9a480"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* callbackDataReceivedFunction_type) (<a class="el" href="group___e_s_p8266.html#ga3f9691a4b2e8b5c0674f77255b335c40">ReceivedDataInfo</a> info)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tipo de función llamada por el módulo para notificar la recepción de datos. </p>
<p>Este módulo llamará a la función con esta firma, que haya sido asociada con el callback, para notificar la recepción de datos en el módulo WiFi enviados por una estación conectada a la misma red.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">info</td><td>información que caracteriza los datos recibidos. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga33675f38f6b4d7d24a0fc78117ea2be1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* callbackResetDetectedFunction_type) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tipo de función llamada por el módulo para notificar un reinicio del módulo WiFi. </p>
<p>Este módulo llamará a la función con esta firma, que haya sido asociada con el callback, para notificar la detección de un reinicio en el módulo WiFi, lo que implicará la pérdida de cualquier conexión abierta. </p>

</div>
</div>
<h2 class="groupheader">Documentación de las funciones</h2>
<a class="anchor" id="ga72cb503cd465777dd48be5cdc6f2c6e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_doWork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realiza tareas pendientes del módulo. </p>
<p>Para el correcto funcionamiento de este módulo, esta función debe ser llamada dentro del bucle infinito de la tarea de background del programa que hace uso de este. Realiza todo lo relacionado con el envío de los comandos encolados, esperas necesarias para éstos, y los reintentos en los casos que corresponda.</p>
<p>Ejemplo de uso: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> BackgroundTask()</div><div class="line">{</div><div class="line">  <span class="comment">// Otro código...</span></div><div class="line">  <span class="keywordflow">while</span> (1)</div><div class="line">  {</div><div class="line">     <a class="code" href="group___e_s_p8266.html#ga72cb503cd465777dd48be5cdc6f2c6e9">esp8266_doWork</a>();</div><div class="line">     <span class="comment">// SLEEP function</span></div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaa7afae2da7a4e44835124d437c14b318"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ConnectionStatus esp8266_getConnectionStatus </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>connectionID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Permite obtener el estado de las conexiones disponibles. </p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">connectionID</td><td>identificador de conexión cuyo estado será consultado. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Estado de la conexión. </dd></dl>

</div>
</div>
<a class="anchor" id="ga67d69234475a4dfb5fe1852c4cd69e3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inicializa el módulo ESP8266. </p>
<p>Antes de hacer uso de este módulo, es imperativo llamar esta función para inicializar datos y estructuras internas, como así iniciar las tareas que correspondan. </p>

</div>
</div>
<a class="anchor" id="gad13433870dad8198790218592a98eca4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t esp8266_queueCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___comandos_a_t.html#ga1426bdb3c983efeec71b31a65d6a6407">AT_Command</a>&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___comandos_a_t.html#gac38e99e6d99be0885cbfe4f41338d2e0">AT_Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encola un comando para ser enviado al módulo WiFi. </p>
<p>Agrega a la cola de comandos a enviar el comando, con los parámetros especificados.</p>
<p>Cuando se envía un comando encolado, el sistema espera a que el módulo WiFi emita una respuesta dentro de un período de tiempo. Si la respuesta confirma el envío exitoso del comando, se invoca el callback CommandSent. Si informa un error en el comando, se lo descarta. Si informa que no puede procesar el comando porque está ocupado, o directamente no emite ninguna respuesta, se procederá a reenviar el comando, siendo la cantidad máxima de reenvíos previamente establecida. Si se supera la cantidad máxima de reenvíos sin tener éxito, se considera al comando erróneo y se lo descarta.</p>
<p>Ejemplos de uso: </p><div class="fragment"><div class="line"><a class="code" href="struct_a_t___c_i_p_s_e_r_v_e_r___d_a_t_a.html">AT_CIPSERVER_DATA</a> cipserver_data = {AT_CIPSERVER_CREATE, 8080};</div><div class="line"><a class="code" href="group___e_s_p8266.html#gad13433870dad8198790218592a98eca4">esp8266_queueCommand</a>(AT_CIPSERVER, AT_TYPE_SET, &amp;cipserver_data);</div><div class="line"></div><div class="line"><a class="code" href="group___e_s_p8266.html#gad13433870dad8198790218592a98eca4">esp8266_queueCommand</a>(AT_CWMODE, AT_TYPE_SET, (<span class="keywordtype">void</span>*)<a class="code" href="group___comandos_a_t.html#gga4d4f22adbae45fb46aab28b5b3445415ae4ea377f6ebc1a576df51eb6658f9d22">AT_CWMODE_SOFTAP</a>);</div></div><!-- fragment --><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">command</td><td>Comando a enviar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>Tipo de operación a llevar a cabo con el comando elegido. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">parameters</td><td>Si el parámetro es un tipo de dato simple (un enumerativo, un entero, etc), entonces se debe enviar dicho valor casteado a <code></code>(void*). Si el parámetro es un tipo de dato compuesto, tal como una estructura, se debe enviar un puntero a ésta, con los valores ya configurados. Esta función puede modificar los valores originales del parámetro. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Si retorna un valor negativo ocurrió un error al encolar el comando, de lo contrario, la operación fue exitosa. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf4836d3de9e2e0357c4650351965ae1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_registerCommandSentCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_s_p8266.html#gaf028590ebe31fe62c79aedb244134675">callbackCommandSentFunction_type</a>&#160;</td>
          <td class="paramname"><em>fcn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registra una función para la notificación CommandSent. </p>
<dl class="section see"><dt>Ver también</dt><dd><a class="el" href="group___e_s_p8266.html#gaf028590ebe31fe62c79aedb244134675" title="Tipo de función llamada por el módulo para notificar comando enviado. ">callbackCommandSentFunction_type</a></dd></dl>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fcn</td><td>puntero a la función a llamar en caso de que ocurra tal evento. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8e697bc1e5b9db98c75b58f2ba9a3fea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_registerConnectionChangedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_s_p8266.html#gac50f5d1ba13d3962caaeb326823483f5">callbackConnectionChangedFunction_type</a>&#160;</td>
          <td class="paramname"><em>fcn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registra una función para la notificación ConnectionChanged. </p>
<dl class="section see"><dt>Ver también</dt><dd><a class="el" href="group___e_s_p8266.html#gac50f5d1ba13d3962caaeb326823483f5" title="Tipo de función llamada por el módulo para notificar un cambio en alguna conexión. ">callbackConnectionChangedFunction_type</a></dd></dl>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fcn</td><td>puntero a la función a llamar en caso de que ocurra tal evento. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa0ec82132faf3c7b42cb36a431f98515"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_registerDataReceivedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_s_p8266.html#gac4255e325d92b94559a7a80479d9a480">callbackDataReceivedFunction_type</a>&#160;</td>
          <td class="paramname"><em>fcn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registra una función para la notificación DataReceived. </p>
<dl class="section see"><dt>Ver también</dt><dd><a class="el" href="group___e_s_p8266.html#gac4255e325d92b94559a7a80479d9a480" title="Tipo de función llamada por el módulo para notificar la recepción de datos. ">callbackDataReceivedFunction_type</a></dd></dl>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fcn</td><td>puntero a la función a llamar en caso de que ocurra tal evento. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3c788be79031e66fdec1f1d56d7bf18d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_registerResetDetectedCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___e_s_p8266.html#ga33675f38f6b4d7d24a0fc78117ea2be1">callbackResetDetectedFunction_type</a>&#160;</td>
          <td class="paramname"><em>fcn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registra una función para la notificación ResetDetected. </p>
<dl class="section see"><dt>Ver también</dt><dd><a class="el" href="group___e_s_p8266.html#ga33675f38f6b4d7d24a0fc78117ea2be1" title="Tipo de función llamada por el módulo para notificar un reinicio del módulo WiFi. ...">callbackResetDetectedFunction_type</a></dd></dl>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fcn</td><td>puntero a la función a llamar en caso de que ocurra tal evento. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga906a93319a5cc31da1c2cb9d40211efb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void esp8266_setReceiveBuffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Especifica el buffer a utilizar para la recepción de datos de usuario. </p>
<p>Brinda una manera de especificar qué buffer será usado para almacenar datos que haya recibido el módulo WiFi por parte de un usuario conectado a la red.</p>
<p>El buffer NO se maneja de forma circular, por lo tanto, ante la llegada de un conjunto de datos nuevos, éstos se comenzarán a guardar en la primera posición, sobreescribiendo lo que antes estuvo guardado allí. Entonces, cuando llega un mensaje, los datos deben ser procesados inmediatamente por el usuario, o copiados a otro buffer.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer con los caracteres a enviar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>cantidad de caracteres a enviar. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf740b653f56f9d5255e2858490da6f47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t esp8266_writeRawData </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Envía datos directamente al módulo WiFi serialmente. </p>
<p>Permite enviar datos al dispositivo inmediatamente, dejando de lado la cola de comandos y demás estructuras. Los datos son enviados tal como son dados.</p>
<p>Usar esta funcionalidad sólo si no se usa la cola de comandos, caso contrario puede influir en su funcionamiento y el comportamiento del sistema estará indefinido.</p>
<dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer con los caracteres a enviar. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>cantidad de caracteres a enviar. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Devuelve</dt><dd>Cantidad de caracteres enviados. Si ocurrió algún error, retorna un valor negativo. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generado el Viernes, 19 de Febrero de 2016 03:17:26 para MotorControl por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
